# mosquitto.conf
persistence true
persistence_location /mosquitto/data/
log_dest file /mosquitto/log/mosquitto.log

# Configuraciones de TLS/SSL (Descomenta y configura para TLS/SSL)
listener 8883
require_certificate true
use_identity_as_username true
# Configuración de Seguridad y Autenticación (Descomenta y ajusta según sea necesario)
allow_anonymous false
password_file /mosquitto/config/passwords

# TLS configuration
tls_version tlsv1.2
cafile /mosquitto/config/certs/ca-mac.crt    
certfile /mosquitto/config/certs/server-mac.crt
keyfile /mosquitto/config/certs/server-mac.key

# Bridge Configuration
connection bridge_to_exit
address raspberry:8883
bridge_cafile /mosquitto/config/certs_external/ca-raspi.crt
bridge_certfile /mosquitto/config/certs_external/server-raspi.crt
bridge_keyfile /mosquitto/config/certs_external/server-raspi.key
remote_username bugny
remote_password 131492
remote_clientid level02-line01-broker
# bridge_insecure true
try_private true
# cleansession true
topic prosys/# out